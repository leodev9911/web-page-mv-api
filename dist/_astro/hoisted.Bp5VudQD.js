import{G as L}from"./hoisted.CagoEy4Q.js";import"./hoisted.Dxt3Ojtz.js";document.addEventListener("astro:page-load",()=>{const i=document.querySelectorAll(".dialog-desktop-buttons"),a=document.querySelectorAll(".desktop-dialog");i.forEach((u,s)=>{u.addEventListener("click",()=>{a[s]?.showModal()})})});const l=(i,a)=>{const u=document.querySelector("body");let s=document.querySelector(".notifications");s||(s=document.createElement("section"),s.classList.add("notifications"),u?.appendChild(s));const t=document.createElement("div"),d=document.createElement("span"),e=document.createElement("p");t.classList.add("toast"),t.classList.add(i),d.innerHTML=i==="success"?`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>
            `:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>
            `,t.appendChild(d),e.innerText+=` ${a}`,t.appendChild(e),s.appendChild(t),setTimeout(()=>{t.classList.add("hide")},4e3),setTimeout(()=>{t.remove(),s.childElementCount===0&&s.remove()},5e3)};document.addEventListener("astro:page-load",()=>{const i=document.getElementById("contact-form"),a=document.querySelectorAll("input"),u=document.getElementById("name"),s=document.getElementById("email"),t=document.getElementById("message"),d=document.querySelector(".spinner"),e=document.getElementById("submit-button"),m="6Lfx4jUqAAAAAC8NPdjvn4Boh1BP26NDBRSiF3W9",p="https://web-page-mv-api.vercel.app",f=()=>{let o=!1;return a.forEach((r,n)=>{r.value===""&&(v("Este campo es requerido",r,n),o=!0)}),t.value===""&&(v("Este campo es requerido",t,2),o=!0),o},h=()=>{a.forEach(r=>r.classList.remove("error")),t.classList.remove("error"),document.querySelectorAll("#error-input-message").forEach(r=>{r.classList.add("hidden")})},v=(o,r,n)=>{const c=document.querySelectorAll("#error-input-message");c[n]&&(c[n].classList.remove("hidden"),c[n].innerText=o),r.classList.add("error")},b=async()=>(d?.classList.remove("hidden"),e.classList.add("disabled"),e.disabled=!0,new Promise((o,r)=>{grecaptcha.ready(async()=>{try{const n=await grecaptcha.execute(m,{action:"submit"});(await fetch(`${p}/api/recaptcha`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n})})).ok&&o(!0)}catch(n){l("error","Hubo un problema por favor intentalo de nuevo"),console.error("Error"),d?.classList.add("hidden"),e.classList.remove("disabled"),e.disabled=!1,r(n)}})})),g=async o=>{if(o.preventDefault(),f()){l("error","Hubo un problema por favor intentalo de nuevo"),d?.classList.add("hidden"),e.classList.remove("disabled"),e.disabled=!1;return}if(!await b()){l("error","Hubo un problema al validar el captcha, por favor intentalo de nuevo");return}const c={name:u?.value,email:s?.value,message:t?.value,gRecaptchResponse:m};if(c)try{(await fetch(`${p}/api/send-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).status===200?(l("success","El correo ha sido enviado correctamente"),d?.classList.add("hidden"),e.classList.remove("disabled"),e.disabled=!1,i?.reset()):(l("error","Hubo un problema al enviar el correo"),d?.classList.add("hidden"),e.classList.remove("disabled"),e.disabled=!1)}catch{l("error","Hubo un problema al enviar el correo"),d?.classList.add("hidden"),e.classList.remove("disabled"),e.disabled=!1}};a.forEach(o=>o.addEventListener("input",h)),t?.addEventListener("input",h),i?.addEventListener("submit",g)});document.addEventListener("astro:page-load",()=>{document.querySelectorAll(".glide-mobile").forEach(i=>{const a=i.id;a&&new L(`#${a}`,{type:"slider",startAt:0,perView:1}).mount()})});
