import"./hoisted.BckNdXKJ.js";import{G as b}from"./hoisted.x9p1-9O3.js";const g=document.querySelectorAll(".dialog-desktop-buttons"),y=document.querySelectorAll(".desktop-dialog");g.forEach((e,t)=>{e.addEventListener("click",()=>{y[t]?.showModal()})});const a=(e,t)=>{const s=document.querySelector("body");let o=document.querySelector(".notifications");o||(o=document.createElement("section"),o.classList.add("notifications"),s?.appendChild(o));const n=document.createElement("div"),l=document.createElement("span"),u=document.createElement("p");n.classList.add("toast"),n.classList.add(e),l.innerHTML=e==="success"?`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>
            `:`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
            </svg>
            `,n.appendChild(l),u.innerText+=` ${t}`,n.appendChild(u),o.appendChild(n),setTimeout(()=>{n.classList.add("hide")},4e3),setTimeout(()=>{n.remove(),o.childElementCount===0&&o.remove()},5e3)},p=document.getElementById("contact-form"),d=document.querySelectorAll("input"),E=document.getElementById("name"),L=document.getElementById("email"),c=document.getElementById("message"),i=document.querySelector(".spinner"),r=document.getElementById("submit-button"),h="6Lfx4jUqAAAAAC8NPdjvn4Boh1BP26NDBRSiF3W9",v="https://web-page-mv-api.vercel.app",w=()=>{let e=!1;return d.forEach((t,s)=>{t.value===""&&(m("Este campo es requerido",t,s),e=!0)}),c.value===""&&(m("Este campo es requerido",c,2),e=!0),e},f=()=>{d.forEach(t=>t.classList.remove("error")),c.classList.remove("error"),document.querySelectorAll("#error-input-message").forEach(t=>{t.classList.add("hidden")})},m=(e,t,s)=>{const o=document.querySelectorAll("#error-input-message");o[s]&&(o[s].classList.remove("hidden"),o[s].innerText=e),t.classList.add("error")},k=async()=>(i?.classList.remove("hidden"),r.classList.add("disabled"),r.disabled=!0,new Promise((e,t)=>{grecaptcha.ready(async()=>{try{const s=await grecaptcha.execute(h,{action:"submit"});(await fetch(`${v}/api/recaptcha`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s})})).ok&&e(!0)}catch(s){a("error","Hubo un problema por favor intentalo de nuevo"),console.error("Error"),i?.classList.add("hidden"),r.classList.remove("disabled"),r.disabled=!1,t(s)}})})),S=async e=>{if(e.preventDefault(),w()){a("error","Hubo un problema por favor intentalo de nuevo"),i?.classList.add("hidden"),r.classList.remove("disabled"),r.disabled=!1;return}if(!await k()){a("error","Hubo un problema al validar el captcha, por favor intentalo de nuevo");return}const o={name:E?.value,email:L?.value,message:c?.value,gRecaptchResponse:h};if(o)try{(await fetch(`${v}/api/send-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).status===200?(a("success","El correo ha sido enviado correctamente"),i?.classList.add("hidden"),r.classList.remove("disabled"),r.disabled=!1,p?.reset()):(a("error","Hubo un problema al enviar el correo"),i?.classList.add("hidden"),r.classList.remove("disabled"),r.disabled=!1)}catch{a("error","Hubo un problema al enviar el correo"),i?.classList.add("hidden"),r.classList.remove("disabled"),r.disabled=!1}};d.forEach(e=>e.addEventListener("input",f));c.addEventListener("input",f);p?.addEventListener("submit",S);document.querySelectorAll(".glide-mobile").forEach(e=>{const t=e.id;t&&new b(`#${t}`,{type:"slider",startAt:0,perView:1}).mount()});
